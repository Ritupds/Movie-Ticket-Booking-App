{"ast":null,"code":"import axios from 'axios';\nexport default {\n  data() {\n    return {\n      token: \"\",\n      venues: [],\n      shows: [],\n      addVenueForm: {\n        name: \"\",\n        place: \"\",\n        city: \"\",\n        capacity: \"\"\n        // shows: [],\n      },\n\n      editForm: {\n        name: \"\",\n        place: \"\",\n        city: \"\",\n        capacity: \"\"\n        // shows: [],\n      },\n\n      availableShows: [],\n      addShowForm: {\n        show_name: \"\",\n        genre: \"\",\n        rating: \"\",\n        price: \"\",\n        date: \"\",\n        time: \"\",\n        available_seats: \"\",\n        venue: \"\"\n      },\n      editShowForm: {\n        show_name: \"\",\n        genre: \"\",\n        rating: \"\",\n        price: \"\",\n        date: \"\",\n        time: \"\",\n        available_seats: \"\",\n        venue: \"\"\n      },\n      message: \"\",\n      showMessage: false\n    };\n  },\n  computed: {\n    axiosConfig() {\n      let token = localStorage.getItem('access_token');\n      return {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      };\n    }\n  },\n  methods: {\n    // Venue Methods\n    getVenues() {\n      const path = 'http://127.0.0.1:5000/admindashboard/venues';\n      axios.get(path, this.axiosConfig).then(res => {\n        this.venues = res.data.venues;\n      }).catch(err => {\n        console.error(err);\n      });\n    },\n    addVenue(payload) {\n      const path = 'http://127.0.0.1:5000/admindashboard/venues';\n      axios.post(path, payload, this.axiosConfig).then(() => {\n        this.getVenues();\n        this.showMessage = true;\n        this.message = \"Venue added!\";\n      }).catch(err => {\n        console.error(err);\n        this.getVenues();\n      });\n    },\n    updateVenue(payload, venueID) {\n      const path = `http://127.0.0.1:5000/admindashboard/venues/${venueID}`;\n      axios.put(path, payload, this.axiosConfig).then(() => {\n        this.getVenues();\n        this.showMessage = true;\n        this.message = \"Venue updated!\";\n      }).catch(err => {\n        console.error(err);\n        this.getVenues();\n      });\n    },\n    removeVenue(venueID) {\n      const confirmed = window.confirm('Are you sure you want to delete this venue?');\n      if (!confirmed) {\n        // If the user cancels the deletion, do nothing\n        return;\n      }\n      const path = `http://127.0.0.1:5000/admindashboard/venues/${venueID}`;\n      axios.delete(path).then(() => {\n        this.getVenues();\n        this.showMessage = true;\n        this.message = \"Venue deleted!\";\n      }).catch(err => {\n        console.error(err);\n        this.getVenues();\n      });\n    },\n    deleteVenue(venue) {\n      this.removeVenue(venue.id);\n    },\n    editVenue(venue) {\n      this.editForm = {\n        ...venue\n      };\n    },\n    // Show Methods\n    getShows() {\n      const path = 'http://127.0.0.1:5000/admindashboard/shows';\n      axios.get(path, this.axiosConfig).then(res => {\n        this.shows = res.data.shows;\n      }).catch(err => {\n        console.error(err);\n      });\n    },\n    addShow(payload) {\n      const path = 'http://127.0.0.1:5000/admindashboard/shows';\n      axios.post(path, payload, this.axiosConfig).then(() => {\n        this.getShows();\n        this.showMessage = true;\n        this.message = \"Show added!\";\n      }).catch(err => {\n        console.error(err);\n        this.getShows();\n      });\n    },\n    updateShow(payload, showID) {\n      const path = `http://127.0.0.1:5000/admindashboard/shows/${showID}`;\n      axios.put(path, payload, this.axiosConfig).then(() => {\n        this.getShows();\n        this.showMessage = true;\n        this.message = \"Show updated!\";\n      }).catch(err => {\n        console.error(err);\n        this.getShows();\n      });\n    },\n    removeShow(showID) {\n      const confirmed = window.confirm('Are you sure you want to delete this show?');\n      if (!confirmed) {\n        // If the user cancels the deletion, do nothing\n        return;\n      }\n      const path = `http://127.0.0.1:5000/admindashboard/shows/${showID}`;\n      axios.delete(path).then(() => {\n        this.getShows();\n        this.showMessage = true;\n        this.message = \"Show deleted!\";\n      }).catch(err => {\n        console.error(err);\n        this.getShows();\n      });\n    },\n    deleteShow(show) {\n      this.removeShow(show.id);\n    },\n    editShow(show) {\n      this.editShowForm = {\n        ...show\n      };\n    },\n    // Other Methods\n    initForm() {\n      // Initialize your form fields here\n    },\n    onSubmit(e) {\n      e.preventDefault();\n      this.$refs.addVenueModal.hide();\n      this.$refs.addShowModal.hide();\n\n      // Handle venue addition\n      const venuePayload = {\n        name: this.addVenueForm.name,\n        place: this.addVenueForm.place,\n        city: this.addVenueForm.city,\n        capacity: this.addVenueForm.capacity\n        // shows: this.addVenueForm.shows,\n      };\n\n      this.addVenue(venuePayload);\n\n      // Handle show addition\n      const showPayload = {\n        show_name: this.addShowForm.name,\n        genre: this.addShowForm.genre,\n        rating: this.addShowForm.rating,\n        price: this.addShowForm.price,\n        date: this.addShowForm.date,\n        time: this.addShowForm.time,\n        available_seats: this.addShowForm.available_seats,\n        venue_id: this.addShowForm.venue\n      };\n      this.addShow(showPayload);\n      this.initForm();\n    },\n    onReset(e) {\n      e.preventDefault();\n      this.$refs.addShowModal.hide();\n      this.$refs.addVenueModal.hide();\n      this.initForm();\n    },\n    onSubmitUpdate(e) {\n      e.preventDefault();\n      this.$refs.editVenueModal.hide();\n      this.$refs.editShowModal.hide();\n      const payload = {\n        name: this.editForm.name,\n        place: this.editForm.place,\n        city: this.editForm.city,\n        capacity: this.editForm.capacity,\n        // shows: this.editForm.shows,\n        show_name: this.editShowForm.name,\n        genre: this.editShowForm.genre,\n        rating: this.editShowForm.rating,\n        price: this.editShowForm.price,\n        date: this.editShowForm.date,\n        time: this.editShowForm.time,\n        available_seats: this.editShowForm.available_seats,\n        venue_id: this.editShowForm.venue\n      };\n      this.updateShow(payload, this.editShowForm.id);\n      this.updateVenue(payload, this.editForm.id);\n    },\n    onResetUpdate(e) {\n      e.preventDefault();\n      this.$refs.editShowModal.hide();\n      this.$refs.editVenueModal.hide();\n      this.initForm();\n      this.getShows();\n      this.getVenues();\n    },\n    logout() {\n      // Perform any necessary logout actions, such as clearing session data, tokens, or local storage.\n      // For simplicity, we will redirect to the admin login page.\n      localStorage.removeItem(\"access_token\");\n      this.$router.push({\n        name: \"AdminLogin\"\n      });\n    },\n    created() {\n      let token = localStorage.getItem(\"access_token\");\n      if (token == null) {\n        this.$router.push(\"/admin_login\");\n      }\n      this.getShows();\n      this.getVenues();\n    }\n  }\n};","map":{"version":3,"names":["axios","data","token","venues","shows","addVenueForm","name","place","city","capacity","editForm","availableShows","addShowForm","show_name","genre","rating","price","date","time","available_seats","venue","editShowForm","message","showMessage","computed","axiosConfig","localStorage","getItem","headers","Authorization","methods","getVenues","path","get","then","res","catch","err","console","error","addVenue","payload","post","updateVenue","venueID","put","removeVenue","confirmed","window","confirm","delete","deleteVenue","id","editVenue","getShows","addShow","updateShow","showID","removeShow","deleteShow","show","editShow","initForm","onSubmit","e","preventDefault","$refs","addVenueModal","hide","addShowModal","venuePayload","showPayload","venue_id","onReset","onSubmitUpdate","editVenueModal","editShowModal","onResetUpdate","logout","removeItem","$router","push","created"],"sources":["src/components/AdminDashboard.vue"],"sourcesContent":["<template>\r\n    <div class=\"admin-dashboard\">\r\n      <!-- Venue Details Section -->\r\n      <div class=\"jumbotron vertical-cent\">\r\n        <!-- ... Your Venue Details Template ... -->\r\n        <div class=\"container\">\r\n          <link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/bootswatch@4.5.2/dist/cosmo/bootstrap.min.css\" integrity=\"sha384-5QFXyVb+lrCzdN228VS3HmzpiE7ZVwLQtkt+0d9W43LQMzz4HBnnqvVxKg6O+04d\" crossorigin=\"anonymous\">\r\n        <div class=\"row\">\r\n            <div class=\"col-sm-12\">\r\n                <br /><br />\r\n                \r\n                <h1>Venue Details</h1>\r\n                <hr><br>\r\n                <!--alert messg-->\r\n                <b-alert variant=\"success\" v-if=\"showMessage\" show> {{ message }} </b-alert>\r\n                <button type=\"button\" class=\"btn btn-success btn-sm\" v-b-modal.venue-modal>Add Venue</button>\r\n            \r\n                <br><br>\r\n                <table class=\"table table-hover\">\r\n                    <thead>\r\n                        <tr>\r\n                            <!--table header cells-->\r\n                            <th scope=\"col\">Venue Name</th>\r\n                            <th scope=\"col\">Venue Place</th>\r\n                            <th scope=\"col\">Venue City</th>\r\n                            <th scope=\"col\">Venue Capacity</th>\r\n                            <!-- <th scope=\"col\">Shows</th> -->\r\n                            <th scope=\"col\">Actions</th>  \r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        <tr v-for=\"venue, index in venues\" :key=\"index\">\r\n                            <td>{{ venue.name }}</td>\r\n                            <td>{{ venue.place }}</td>\r\n                            <td>{{ venue.city }}</td>\r\n                            <td>{{ venue.capacity }}</td>\r\n                            <!-- <td>\r\n\r\n                                <ul>\r\n                                    <li v-for=\"show in venue.shows\" :key=\"show\">{{ show }}</li>\r\n                                </ul>\r\n\r\n                            </td> -->\r\n                            <td>\r\n                                <div class=\"btn-group\" role=\"group\">\r\n                                    <button type=\"button\" class=\"btn btn-info btn-sm\" v-b-modal.venue-update-modal \r\n                                    @click=\"editVenue(venue)\">Update</button>\r\n                                    <button type=\"button\" class=\"btn btn-danger btn-sm\"\r\n                                    @click=\"deleteVenue(venue)\">Delete</button>\r\n                                </div>\r\n                            </td>\r\n\r\n                        </tr>\r\n                    </tbody>\r\n                </table>\r\n    \r\n            </div>\r\n        </div>\r\n\r\n        <!--first modal-->\r\n        <b-modal ref=\"addVenueModal\"\r\n                 id=\"venue-modal\"\r\n                 title=\"Add a new venue\" hide-backdrop hide-footer>\r\n        <b-form @submit=\"onSubmit\" @reset=\"onReset\" class=\"w-100\">\r\n            <b-form-group id=\"form-name-group\"\r\n                          label=\"Name:\"\r\n                          label-for=\"form-name-input\">\r\n                <b-form-input id=\"form-name-input\"\r\n                              type=\"text\"\r\n                              v-model=\"addVenueForm.name\"\r\n                              placeholder=\"Enter venue\">\r\n                </b-form-input>\r\n            </b-form-group>\r\n\r\n            <b-form-group id=\"form-place-group\"\r\n                          label=\"Place:\"\r\n                          label-for=\"form-place-input\">\r\n                <b-form-input id=\"form-place-input\"\r\n                              type=\"text\"\r\n                              v-model=\"addVenueForm.place\"\r\n                              placeholder=\"Enter place\">\r\n                </b-form-input>\r\n            </b-form-group>\r\n\r\n            <b-form-group id=\"form-city-group\"\r\n                          label=\"City:\"\r\n                          label-for=\"form-city-input\">\r\n                <b-form-input id=\"form-city-input\"\r\n                              type=\"text\"\r\n                              v-model=\"addVenueForm.city\"\r\n                              placeholder=\"Enter city\">\r\n                </b-form-input>\r\n            </b-form-group>\r\n\r\n            <b-form-group id=\"form-capacity-group\"\r\n                          label=\"Capacity:\"\r\n                          label-for=\"form-capacity-input\">\r\n                <b-form-input id=\"form-capacity-input\"\r\n                              type=\"number\"\r\n                              v-model=\"addVenueForm.capacity\"\r\n                              placeholder=\"Enter capacity\">\r\n                </b-form-input>\r\n\r\n            </b-form-group>\r\n            \r\n            <!-- <b-form-group id=\"form-shows-group\" label=\"Shows:\" label-for=\"form-shows-input\">\r\n                <div v-for=\"(show, index) in availableShows\" :key=\"index\">\r\n                <b-form-checkbox\r\n                    v-model=\"addVenueForm.shows\"\r\n                    :value=\"show\"\r\n                    >{{ show }}</b-form-checkbox>\r\n                </div>\r\n            </b-form-group> -->\r\n\r\n\r\n            <b-button type=\"submit\" variant=\"outline-info\">Submit</b-button>\r\n            <b-button type=\"reset\" variant=\"outline-danger\">Reset</b-button>\r\n\r\n        </b-form>\r\n        </b-modal>\r\n\r\n<!-- start of modal 2 -->\r\n\r\n<b-modal ref=\"editVenueModal\"\r\n                 id=\"venue-update-modal\"\r\n                 title=\"Update\" hide-backdrop hide-footer>\r\n        <b-form @submit=\"onSubmitUpdate\" @reset=\"onResetUpdate\" class=\"w-100\">\r\n\r\n            <b-form-group id=\"form-name-edit-group\"\r\n                          label=\"Name:\"\r\n                          label-for=\"form-name-edit-input\">\r\n                <b-form-input id=\"form-name-edit-input\"\r\n                              type=\"text\"\r\n                              v-model=\"editForm.name\"\r\n                              required\r\n                              placeholder=\"Enter venue\">\r\n                </b-form-input>\r\n            </b-form-group>\r\n\r\n            <b-form-group id=\"form-place-edit-group\"\r\n                          label=\"Place:\"\r\n                          label-for=\"form-place-edit-input\">\r\n                <b-form-input id=\"form-place-edit-input\"\r\n                              type=\"text\"\r\n                              v-model=\"editForm.place\"\r\n                              required\r\n                              placeholder=\"Enter place\">\r\n                </b-form-input>\r\n            </b-form-group>\r\n\r\n            <b-form-group id=\"form-city-edit-group\"\r\n                          label=\"City:\"\r\n                          label-for=\"form-city-edit-input\">\r\n                <b-form-input id=\"form-city-edit-input\"\r\n                              type=\"text\"\r\n                              v-model=\"editForm.city\"\r\n                              required\r\n                              placeholder=\"Enter city\">\r\n                </b-form-input>\r\n            </b-form-group>\r\n\r\n            <b-form-group id=\"form-capacity-edit-group\"\r\n                          label=\"Capacity:\"\r\n                          label-for=\"form-capacity-edit-input\">\r\n                <b-form-input id=\"form-capacity-edit-input\"\r\n                              type=\"number\"\r\n                              v-model=\"editForm.capacity\"\r\n                              required\r\n                              placeholder=\"Enter capacity\">\r\n                </b-form-input>\r\n\r\n            </b-form-group>\r\n            \r\n            <!-- <b-form-group id=\"form-shows-edit-group\" label=\"Shows:\" label-for=\"form-shows-edit-input\">\r\n                <div v-for=\"(show, index) in availableShows\" :key=\"index\">\r\n                <b-form-checkbox\r\n                    v-model=\"editForm.shows\"\r\n                    :value=\"show\"\r\n                    >{{ show }}</b-form-checkbox>\r\n                </div>\r\n            </b-form-group> -->\r\n\r\n\r\n            <b-button type=\"submit\" variant=\"outline-info\">Submit</b-button>\r\n            <b-button type=\"cancel\" variant=\"outline-danger\">cancel</b-button>\r\n\r\n        </b-form>\r\n        </b-modal>\r\n\r\n        \r\n    </div>\r\n      </div>\r\n  \r\n      <!-- Show Details Section -->\r\n      <div class=\"jumbotron vertical-cent\">\r\n        <!-- ... Your Show Details Template ... -->\r\n        <div class=\"container\">\r\n          <link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/bootswatch@4.5.2/dist/cosmo/bootstrap.min.css\" integrity=\"sha384-5QFXyVb+lrCzdN228VS3HmzpiE7ZVwLQtkt+0d9W43LQMzz4HBnnqvVxKg6O+04d\" crossorigin=\"anonymous\">\r\n        <div class=\"row\">\r\n            <div class=\"col-sm-12\">\r\n                <h1>Show Details</h1>\r\n                <hr><br>\r\n                <!--alert messg-->\r\n                <!-- <b-alert variant=\"success\" v-if=\"showMessage\" show> {{ message }} </b-alert> -->\r\n                <button type=\"button\" class=\"btn btn-success btn-sm\" v-b-modal.show-modal>Add Show</button>\r\n                <br><br>\r\n                <table class=\"table table-hover\">\r\n                    <thead>\r\n                        <tr>\r\n                            <!--table header cells-->\r\n                            <th scope=\"col\">Name</th>\r\n                            <th scope=\"col\">Genre</th>\r\n                            <th scope=\"col\">Rating</th>\r\n                            <th scope=\"col\">Price</th>\r\n                            <th scope=\"col\">Date</th>\r\n                            <th scope=\"col\">Time</th>  \r\n                            <th scope=\"col\">Available Seats</th>\r\n                            <th scope=\"col\">Venue</th>\r\n                            <th scope=\"col\">Actions</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        <tr v-for=\"show, index in shows\" :key=\"index\">\r\n                            <td>{{ show.show_name }}</td>\r\n                            <td>{{ show.genre }}</td>\r\n                            <td>{{ show.rating }}</td>\r\n                            <td>{{ show.price }}</td>\r\n                            <td>{{ show.date }}</td>   \r\n                            <td>{{ show.time }}</td>\r\n                            <td>{{ show.available_seats }}</td>\r\n                            <td>{{ show.venue.name }} <br> {{ show.venue.place }}</td>\r\n                        \r\n                            <td>\r\n                                <div class=\"btn-group\" role=\"group\">\r\n                                    <button type=\"button\" class=\"btn btn-info btn-sm\" v-b-modal.show-update-modal \r\n                                    @click=\"editShow(show)\">Update</button>\r\n                                    <button type=\"button\" class=\"btn btn-danger btn-sm\"\r\n                                    @click=\"deleteShow(show)\">Delete</button>\r\n                                </div>\r\n                            </td>\r\n\r\n                        </tr>\r\n                    </tbody>\r\n                </table>\r\n    \r\n            </div>\r\n        </div>\r\n\r\n        <!--first modal-->\r\n        <b-modal ref=\"addShowModal\"\r\n                 id=\"show-modal\"\r\n                 title=\"Add a new show\" hide-backdrop hide-footer>\r\n        <b-form @submit=\"onSubmit\" @reset=\"onReset\" class=\"w-100\">\r\n            <b-form-group id=\"form-name-group\"\r\n                          label=\"Name:\"\r\n                          label-for=\"form-name-input\">\r\n                <b-form-input id=\"form-name-input\"\r\n                              type=\"text\"\r\n                              v-model=\"addShowForm.name\"\r\n                              placeholder=\"Enter show\">\r\n                </b-form-input>\r\n            </b-form-group>\r\n\r\n            <b-form-group id=\"form-genre-group\"\r\n                          label=\"Genre:\"\r\n                          label-for=\"form-genre-input\">\r\n                <b-form-input id=\"form-genre-input\"\r\n                              type=\"text\"\r\n                              v-model=\"addShowForm.genre\"\r\n                              placeholder=\"Enter genre\">\r\n                </b-form-input>\r\n            </b-form-group>\r\n\r\n            <b-form-group id=\"form-rating-group\"\r\n                          label=\"Rating:\"\r\n                          label-for=\"form-rating-input\">\r\n                <b-form-input id=\"form-rating-input\"\r\n                              type=\"number\"\r\n                              v-model=\"addShowForm.rating\"\r\n                              placeholder=\"Enter rating\">\r\n                </b-form-input>\r\n            </b-form-group>\r\n\r\n            <b-form-group id=\"form-price-group\"\r\n                          label=\"Price:\"\r\n                          label-for=\"form-price-input\">\r\n                <b-form-input id=\"form-price-input\"\r\n                              type=\"number\"\r\n                              v-model=\"addShowForm.price\"\r\n                              placeholder=\"Enter price\">\r\n                </b-form-input>\r\n\r\n            </b-form-group>\r\n            <b-form-group id=\"form-date-group\" label=\"Date:\" label-for=\"form-date-input\">\r\n                <b-form-input id=\"form-date-input\"\r\n                            type=\"date\"  \r\n                            v-model=\"addShowForm.date\"\r\n                            required>\r\n                </b-form-input>\r\n            </b-form-group>\r\n\r\n            <b-form-group id=\"form-time-group\" label=\"Time:\" label-for=\"form-time-input\">\r\n                <b-form-input id=\"form-time-input\"\r\n                            type=\"time\" \r\n                            v-model=\"addShowForm.time\"\r\n                            required>\r\n                </b-form-input>\r\n            </b-form-group>\r\n\r\n            <b-form-group id=\"form-available-seats-group\"\r\n                          label=\"Available Seats:\"\r\n                          label-for=\"form-available-seats-input\">\r\n                <b-form-input id=\"form-available-seats-input\"\r\n                              type=\"number\"\r\n                              v-model=\"addShowForm.available_seats\"\r\n                              placeholder=\"Enter available seats\">\r\n                </b-form-input>\r\n            </b-form-group>\r\n\r\n            <b-form-group id=\"form-venue-group\" label=\"Venue:\" label-for=\"form-venue-input\">\r\n                <b-form-select id=\"form-venue-input\" v-model=\"addShowForm.venue\" required placeholder=\"Select venue\">\r\n                    <option v-for=\"venue in venues\" :key=\"venue.id\" :value=\"venue.id\">\r\n                        {{ venue.name }} {{ venue.place }} {{ venue.city }}\r\n                    </option>\r\n                </b-form-select>\r\n            </b-form-group>\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n            <b-button type=\"submit\" variant=\"outline-info\">Submit</b-button>\r\n            <b-button type=\"reset\" variant=\"outline-danger\">Reset</b-button>\r\n\r\n        </b-form>\r\n        </b-modal>\r\n\r\n<!-- start of modal 2 -->\r\n\r\n<b-modal ref=\"editShowModal\"\r\n                 id=\"show-update-modal\"\r\n                 title=\"Update\" hide-backdrop hide-footer>\r\n        <b-form @submit=\"onSubmitUpdate\" @reset=\"onResetUpdate\" class=\"w-100\">\r\n\r\n            <b-form-group id=\"form-name-edit-group\"\r\n                          label=\"Name:\"\r\n                          label-for=\"form-name-edit-input\">\r\n                <b-form-input id=\"form-name-edit-input\"\r\n                              type=\"text\"\r\n                              v-model=\"editShowForm.name\"\r\n                              required\r\n                              placeholder=\"Enter show\">\r\n                </b-form-input>\r\n            </b-form-group>\r\n\r\n            <b-form-group id=\"form-genre-edit-group\"\r\n                          label=\"Genre:\"\r\n                          label-for=\"form-genre-edit-input\">\r\n                <b-form-input id=\"form-genre-edit-input\"\r\n                              type=\"text\"\r\n                              v-model=\"editShowForm.genre\"\r\n                              required\r\n                              placeholder=\"Enter genre\">\r\n                </b-form-input>\r\n            </b-form-group>\r\n\r\n            <b-form-group id=\"form-rating-edit-group\"\r\n                          label=\"Rating:\"\r\n                          label-for=\"form-rating-edit-input\">\r\n                <b-form-input id=\"form-rating-edit-input\"\r\n                              type=\"number\"\r\n                              v-model=\"editShowForm.rating\"\r\n                              required\r\n                              placeholder=\"Enter rating\">\r\n                </b-form-input>\r\n            </b-form-group>\r\n\r\n            <b-form-group id=\"form-price-edit-group\"\r\n                          label=\"Price:\"\r\n                          label-for=\"form-price-edit-input\">\r\n                <b-form-input id=\"form-price-edit-input\"\r\n                              type=\"number\"\r\n                              v-model=\"editShowForm.price\"\r\n                              required\r\n                              placeholder=\"Enter price\">\r\n                </b-form-input>\r\n\r\n                <b-form-group id=\"form-available-seats-edit-group\"\r\n                          label=\"Available Seats:\"\r\n                          label-for=\"form-available-seats-edit-input\">\r\n                <b-form-input id=\"form-available-seats-edit-input\"\r\n                              type=\"number\"\r\n                              v-model=\"editShowForm.available_seats\"\r\n                              required\r\n                              placeholder=\"Enter available seats\">\r\n                </b-form-input>\r\n            </b-form-group>\r\n\r\n\r\n            </b-form-group>\r\n            <b-form-group id=\"form-date-edit-group\" label=\"Date:\" label-for=\"form-date-edit-input\">\r\n                <b-form-input id=\"form-date-edit-input\"\r\n                            type=\"date\"  \r\n                            v-model=\"editShowForm.date\"\r\n                            required\r\n                            placeholder=\"Enter date\">\r\n                </b-form-input>\r\n            </b-form-group>\r\n\r\n            <b-form-group id=\"form-time-edit-group\" label=\"Time:\" label-for=\"form-time-edit-input\">\r\n                <b-form-input id=\"form-time-edit-input\"\r\n                            type=\"time\" \r\n                            v-model=\"editShowForm.time\"\r\n                            required\r\n                            placeholder=\"Enter time\">\r\n                </b-form-input>\r\n            </b-form-group>\r\n\r\n            <b-form-group id=\"form-venue-edit-group\" label=\"Venue:\" label-for=\"form-venue-edit-input\">\r\n                <b-form-select id=\"form-venue-edit-input\" v-model=\"editShowForm.venue\" required placeholder=\"Select venue\">\r\n                    <option v-for=\"venue in venues\" :key=\"venue.id\" :value=\"venue.id\">\r\n                        {{ venue.name }} <br>{{ venue.place }}<br> {{ venue.city }}\r\n                    </option>\r\n                </b-form-select>\r\n            </b-form-group>\r\n\r\n\r\n            <b-button type=\"submit\" variant=\"outline-info\">Submit</b-button>\r\n            <b-button type=\"cancel\" variant=\"outline-danger\">cancel</b-button>\r\n\r\n        </b-form>\r\n        </b-modal>\r\n\r\n    </div>\r\n      </div>\r\n      <br> <br>\r\n      <button @click=\"logout\" class=\"btn btn-danger\">Logout</button>\r\n\r\n    </div>\r\n    \r\n  </template>\r\n  \r\n  <script>\r\n  import axios from 'axios';\r\n  \r\n  export default {\r\n    data() {\r\n      return {\r\n        token:\"\",\r\n        venues: [],\r\n        shows: [],\r\n        addVenueForm : {\r\n                name : \"\",\r\n                place : \"\",\r\n                city : \"\",\r\n                capacity : \"\",\r\n                // shows: [],\r\n            },\r\n            editForm : {\r\n                \r\n                name : \"\",\r\n                place : \"\",\r\n                city : \"\",\r\n                capacity : \"\",\r\n                // shows: [],\r\n\r\n            },\r\n            \r\n            availableShows: [],\r\n\r\n            addShowForm : {\r\n                show_name : \"\",\r\n                genre : \"\",\r\n                rating : \"\",\r\n                price : \"\",\r\n                date: \"\",\r\n                time: \"\",\r\n                available_seats: \"\",\r\n                venue : \"\",\r\n            },\r\n            editShowForm : {\r\n                show_name : \"\",\r\n                genre : \"\",\r\n                rating : \"\",\r\n                price : \"\",\r\n                date: \"\",\r\n                time: \"\",\r\n                available_seats: \"\",\r\n                venue : \"\",\r\n                \r\n            },\r\n            message : \"\",\r\n            showMessage: false,\r\n        \r\n      };\r\n    },\r\n    computed: {\r\n      axiosConfig() {\r\n        let token=localStorage.getItem('access_token');\r\n        return {\r\n          headers: {\r\n            Authorization: `Bearer ${token}`,\r\n        },\r\n      };\r\n    },\r\n  },\r\n   \r\n    methods: {\r\n  // Venue Methods\r\n  getVenues() {\r\n    const path = 'http://127.0.0.1:5000/admindashboard/venues';\r\n    axios.get(path, this.axiosConfig)\r\n      .then((res) => {\r\n        this.venues = res.data.venues;\r\n      })\r\n      .catch((err) => {\r\n        console.error(err);\r\n      });\r\n  },\r\n  addVenue(payload) {\r\n    const path = 'http://127.0.0.1:5000/admindashboard/venues';\r\n    axios.post(path, payload, this.axiosConfig)\r\n      .then(() => {\r\n        this.getVenues();\r\n        this.showMessage = true;\r\n        this.message = \"Venue added!\";\r\n      })\r\n      .catch((err) => {\r\n        console.error(err);\r\n        this.getVenues();\r\n      });\r\n  },\r\n  updateVenue(payload, venueID) {\r\n    const path = `http://127.0.0.1:5000/admindashboard/venues/${venueID}`;\r\n    axios.put(path, payload,this.axiosConfig)\r\n      .then(() => {\r\n        this.getVenues();\r\n        this.showMessage = true;\r\n        this.message = \"Venue updated!\";\r\n      })\r\n      .catch((err) => {\r\n        console.error(err);\r\n        this.getVenues();\r\n      });\r\n  },\r\n  removeVenue(venueID) {\r\n    const confirmed = window.confirm('Are you sure you want to delete this venue?');\r\n  \r\n  if (!confirmed) {\r\n    // If the user cancels the deletion, do nothing\r\n    return;\r\n  }\r\n    const path = `http://127.0.0.1:5000/admindashboard/venues/${venueID}`;\r\n    axios.delete(path)\r\n      .then(() => {\r\n        this.getVenues();\r\n        this.showMessage = true;\r\n        this.message = \"Venue deleted!\";\r\n      })\r\n      .catch((err) => {\r\n        console.error(err);\r\n        this.getVenues();\r\n      });\r\n  },\r\n  deleteVenue(venue) {\r\n    this.removeVenue(venue.id);\r\n  },\r\n  editVenue(venue) {\r\n    this.editForm = { ...venue };\r\n  },\r\n  \r\n  // Show Methods\r\n  getShows() {\r\n    const path = 'http://127.0.0.1:5000/admindashboard/shows';\r\n    axios.get(path,this.axiosConfig)\r\n      .then((res) => {\r\n        this.shows = res.data.shows;\r\n      })\r\n      .catch((err) => {\r\n        console.error(err);\r\n      });\r\n  },\r\n  addShow(payload) {\r\n    const path = 'http://127.0.0.1:5000/admindashboard/shows';\r\n    axios.post(path, payload,this.axiosConfig)\r\n      .then(() => {\r\n        this.getShows();\r\n        this.showMessage = true;\r\n        this.message = \"Show added!\";\r\n      })\r\n      .catch((err) => {\r\n        console.error(err);\r\n        this.getShows();\r\n      });\r\n  },\r\n  updateShow(payload, showID) {\r\n    const path = `http://127.0.0.1:5000/admindashboard/shows/${showID}`;\r\n    axios.put(path, payload,this.axiosConfig)\r\n      .then(() => {\r\n        this.getShows();\r\n        this.showMessage = true;\r\n        this.message = \"Show updated!\";\r\n      })\r\n      .catch((err) => {\r\n        console.error(err);\r\n        this.getShows();\r\n      });\r\n  },\r\n  removeShow(showID) {\r\n    const confirmed = window.confirm('Are you sure you want to delete this show?');\r\n  \r\n  if (!confirmed) {\r\n    // If the user cancels the deletion, do nothing\r\n    return;\r\n  }\r\n    const path = `http://127.0.0.1:5000/admindashboard/shows/${showID}`;\r\n    axios.delete(path)\r\n      .then(() => {\r\n        this.getShows();\r\n        this.showMessage = true;\r\n        this.message = \"Show deleted!\";\r\n      })\r\n      .catch((err) => {\r\n        console.error(err);\r\n        this.getShows();\r\n      });\r\n  },\r\n  deleteShow(show) {\r\n    this.removeShow(show.id);\r\n  },\r\n  editShow(show) {\r\n    this.editShowForm = { ...show };\r\n  },\r\n  \r\n  // Other Methods\r\n  initForm() {\r\n    // Initialize your form fields here\r\n  },\r\n  onSubmit(e) {\r\n    e.preventDefault();\r\n    this.$refs.addVenueModal.hide();\r\n    this.$refs.addShowModal.hide();\r\n\r\n    // Handle venue addition\r\n    const venuePayload = {\r\n      name: this.addVenueForm.name,\r\n      place: this.addVenueForm.place,\r\n      city: this.addVenueForm.city,\r\n      capacity: this.addVenueForm.capacity,\r\n      // shows: this.addVenueForm.shows,\r\n    };\r\n    this.addVenue(venuePayload);\r\n\r\n    // Handle show addition\r\n    const showPayload = {\r\n      show_name: this.addShowForm.name,\r\n      genre: this.addShowForm.genre,\r\n      rating: this.addShowForm.rating,\r\n      price: this.addShowForm.price,\r\n      date: this.addShowForm.date,\r\n      time: this.addShowForm.time,\r\n      available_seats: this.addShowForm.available_seats,\r\n      venue_id: this.addShowForm.venue,\r\n    };\r\n    this.addShow(showPayload);\r\n\r\n    this.initForm();\r\n  },\r\n  onReset(e) {\r\n    e.preventDefault();\r\n    this.$refs.addShowModal.hide();\r\n    this.$refs.addVenueModal.hide();\r\n    this.initForm();\r\n  },\r\n  onSubmitUpdate(e) {\r\n    e.preventDefault();\r\n    this.$refs.editVenueModal.hide();\r\n    this.$refs.editShowModal.hide();\r\n    \r\n    const payload = {\r\n      name: this.editForm.name,\r\n      place: this.editForm.place,\r\n      city: this.editForm.city,\r\n      capacity: this.editForm.capacity,\r\n      // shows: this.editForm.shows,\r\n      show_name: this.editShowForm.name,\r\n      genre: this.editShowForm.genre,\r\n      rating: this.editShowForm.rating,\r\n      price: this.editShowForm.price,\r\n      date: this.editShowForm.date,\r\n      time: this.editShowForm.time,\r\n      available_seats: this.editShowForm.available_seats,\r\n      venue_id: this.editShowForm.venue,\r\n    };\r\n    this.updateShow(payload, this.editShowForm.id);\r\n    this.updateVenue(payload, this.editForm.id);\r\n  },\r\n  onResetUpdate(e) {\r\n    e.preventDefault();\r\n    this.$refs.editShowModal.hide();\r\n    this.$refs.editVenueModal.hide();\r\n    this.initForm();\r\n    this.getShows();\r\n    this.getVenues();\r\n  },\r\n  logout() {\r\n      // Perform any necessary logout actions, such as clearing session data, tokens, or local storage.\r\n      // For simplicity, we will redirect to the admin login page.\r\n      localStorage.removeItem(\"access_token\");\r\n      this.$router.push({ name: \"AdminLogin\" });\r\n    },\r\n  created() {\r\n    let token = localStorage.getItem(\"access_token\");\r\n    if(token==null){\r\n      this.$router.push(\"/admin_login\");\r\n\r\n    \r\n    }\r\n    this.getShows();\r\n    this.getVenues();\r\n  },\r\n\r\n    \r\n    }\r\n}\r\n</script>\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}