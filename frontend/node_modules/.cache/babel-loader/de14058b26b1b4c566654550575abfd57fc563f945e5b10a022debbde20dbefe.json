{"ast":null,"code":"import axios from \"axios\";\nexport default {\n  data() {\n    return {\n      token: \"\",\n      venues: [],\n      shows: [],\n      addVenueForm: {\n        name: \"\",\n        place: \"\",\n        city: \"\",\n        capacity: \"\"\n        // shows: [],\n      },\n\n      editForm: {\n        name: \"\",\n        place: \"\",\n        city: \"\",\n        capacity: \"\"\n        // shows: [],\n      },\n\n      availableShows: [],\n      addShowForm: {\n        show_name: \"\",\n        genre: \"\",\n        rating: \"\",\n        price: \"\",\n        date: \"\",\n        time: \"\",\n        available_seats: \"\",\n        venue: \"\"\n      },\n      editShowForm: {\n        show_name: \"\",\n        genre: \"\",\n        rating: \"\",\n        price: \"\",\n        date: \"\",\n        time: \"\",\n        available_seats: \"\",\n        venue: \"\"\n      },\n      message: \"\",\n      showMessage: false\n    };\n  },\n  computed: {\n    axiosConfig() {\n      let token = localStorage.getItem(\"access_token\");\n      return {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      };\n    }\n  },\n  methods: {\n    // Venue Methods\n    getVenues() {\n      const path = \"http://127.0.0.1:5000/admindashboard/venues\";\n      axios.get(path, this.axiosConfig).then(res => {\n        this.venues = res.data.venues;\n      }).catch(err => {\n        console.error(err);\n      });\n    },\n    addVenue(payload) {\n      const path = \"http://127.0.0.1:5000/admindashboard/venues\";\n      axios.post(path, payload, this.axiosConfig).then(() => {\n        this.getVenues();\n        this.showMessage = true;\n        this.message = \"Venue added!\";\n      }).catch(err => {\n        console.error(err);\n        this.getVenues();\n      });\n    },\n    updateVenue(payload, venueID) {\n      const path = `http://127.0.0.1:5000/admindashboard/venues/${venueID}`;\n      axios.put(path, payload, this.axiosConfig).then(() => {\n        this.getVenues();\n        this.showMessage = true;\n        this.message = \"Venue updated!\";\n      }).catch(err => {\n        console.error(err);\n        this.getVenues();\n      });\n    },\n    removeVenue(venueID) {\n      const confirmed = window.confirm(\"Are you sure you want to delete this venue?\");\n      if (!confirmed) {\n        // If the user cancels the deletion, do nothing\n        return;\n      }\n      const path = `http://127.0.0.1:5000/admindashboard/venues/${venueID}`;\n      axios.delete(path).then(() => {\n        this.getVenues();\n        this.showMessage = true;\n        this.message = \"Venue deleted!\";\n      }).catch(err => {\n        console.error(err);\n        this.getVenues();\n      });\n    },\n    deleteVenue(venue) {\n      this.removeVenue(venue.id);\n    },\n    editVenue(venue) {\n      this.editForm = {\n        ...venue\n      };\n    },\n    // Show Methods\n    getShows() {\n      const path = \"http://127.0.0.1:5000/admindashboard/shows\";\n      axios.get(path, this.axiosConfig).then(res => {\n        this.shows = res.data.shows;\n      }).catch(err => {\n        console.error(err);\n      });\n    },\n    addShow(payload) {\n      const path = \"http://127.0.0.1:5000/admindashboard/shows\";\n      axios.post(path, payload, this.axiosConfig).then(() => {\n        this.getShows();\n        this.showMessage = true;\n        this.message = \"Show added!\";\n      }).catch(err => {\n        console.error(err);\n        this.getShows();\n      });\n    },\n    updateShow(payload, showID) {\n      const path = `http://127.0.0.1:5000/admindashboard/shows/${showID}`;\n      axios.put(path, payload, this.axiosConfig).then(() => {\n        this.getShows();\n        this.showMessage = true;\n        this.message = \"Show updated!\";\n      }).catch(err => {\n        console.error(err);\n        this.getShows();\n      });\n    },\n    removeShow(showID) {\n      const confirmed = window.confirm(\"Are you sure you want to delete this show?\");\n      if (!confirmed) {\n        // If the user cancels the deletion, do nothing\n        return;\n      }\n      const path = `http://127.0.0.1:5000/admindashboard/shows/${showID}`;\n      axios.delete(path).then(() => {\n        this.getShows();\n        this.showMessage = true;\n        this.message = \"Show deleted!\";\n      }).catch(err => {\n        console.error(err);\n        this.getShows();\n      });\n    },\n    deleteShow(show) {\n      this.removeShow(show.id);\n    },\n    editShow(show) {\n      this.editShowForm = {\n        ...show\n      };\n    },\n    // Other Methods\n    initForm() {\n      // Initialize your form fields here\n    },\n    onSubmitShow() {\n      const payload = {\n        show_name: this.addShowForm.name,\n        genre: this.addShowForm.genre,\n        rating: this.addShowForm.rating,\n        price: this.addShowForm.price,\n        date: this.addShowForm.date,\n        time: this.addShowForm.time,\n        available_seats: this.addShowForm.available_seats,\n        venue_id: this.addShowForm.venue\n      };\n      this.addShow(payload);\n    },\n    onSubmitVenue() {\n      const payload = {\n        name: this.addVenueForm.name,\n        place: this.addVenueForm.place,\n        city: this.addVenueForm.city,\n        capacity: this.addVenueForm.capacity\n        // shows: this.addVenueForm.shows,\n      };\n\n      this.addVenue(payload);\n    }\n  },\n  onReset(e) {\n    e.preventDefault();\n    this.$refs.addShowModal.hide();\n    this.$refs.addVenueModal.hide();\n    this.initForm();\n  },\n  onSubmitUpdate(e) {\n    e.preventDefault();\n    this.$refs.editVenueModal.hide();\n    this.$refs.editShowModal.hide();\n    const payload = {\n      name: this.editForm.name,\n      place: this.editForm.place,\n      city: this.editForm.city,\n      capacity: this.editForm.capacity,\n      // shows: this.editForm.shows,\n      show_name: this.editShowForm.name,\n      genre: this.editShowForm.genre,\n      rating: this.editShowForm.rating,\n      price: this.editShowForm.price,\n      date: this.editShowForm.date,\n      time: this.editShowForm.time,\n      available_seats: this.editShowForm.available_seats,\n      venue_id: this.editShowForm.venue\n    };\n    this.updateShow(payload, this.editShowForm.id);\n    this.updateVenue(payload, this.editForm.id);\n  },\n  onResetUpdate(e) {\n    e.preventDefault();\n    this.$refs.editShowModal.hide();\n    this.$refs.editVenueModal.hide();\n    this.initForm();\n    this.getShows();\n    this.getVenues();\n  },\n  logout() {\n    // Perform any necessary logout actions, such as clearing session data, tokens, or local storage.\n    // For simplicity, we will redirect to the admin login page.\n    localStorage.removeItem(\"access_token\");\n    this.$router.push({\n      name: \"AdminLogin\"\n    });\n  }\n};\ncreated();\nlet token = localStorage.getItem(\"access_token\");\nif (token == null) {\n  this.$router.push(\"/admin_login\");\n}\nthis.getShows();\nthis.getVenues();","map":{"version":3,"names":["axios","data","token","venues","shows","addVenueForm","name","place","city","capacity","editForm","availableShows","addShowForm","show_name","genre","rating","price","date","time","available_seats","venue","editShowForm","message","showMessage","computed","axiosConfig","localStorage","getItem","headers","Authorization","methods","getVenues","path","get","then","res","catch","err","console","error","addVenue","payload","post","updateVenue","venueID","put","removeVenue","confirmed","window","confirm","delete","deleteVenue","id","editVenue","getShows","addShow","updateShow","showID","removeShow","deleteShow","show","editShow","initForm","onSubmitShow","venue_id","onSubmitVenue","onReset","e","preventDefault","$refs","addShowModal","hide","addVenueModal","onSubmitUpdate","editVenueModal","editShowModal","onResetUpdate","logout","removeItem","$router","push","created"],"sources":["src/components/AdminDashboard.vue"],"sourcesContent":["<template>\r\n  <div class=\"admin-dashboard\">\r\n    <!-- Venue Details Section -->\r\n    <div class=\"jumbotron vertical-cent\">\r\n      <!-- ... Your Venue Details Template ... -->\r\n      <div class=\"container\">\r\n        <link\r\n          rel=\"stylesheet\"\r\n          href=\"https://cdn.jsdelivr.net/npm/bootswatch@4.5.2/dist/cosmo/bootstrap.min.css\"\r\n          integrity=\"sha384-5QFXyVb+lrCzdN228VS3HmzpiE7ZVwLQtkt+0d9W43LQMzz4HBnnqvVxKg6O+04d\"\r\n          crossorigin=\"anonymous\"\r\n        />\r\n        <div class=\"row\">\r\n          <div class=\"col-sm-12\">\r\n            <br /><br />\r\n\r\n            <h1>Venue Details</h1>\r\n            <hr />\r\n            <br />\r\n            <!--alert messg-->\r\n            <b-alert variant=\"success\" v-if=\"showMessage\" show>\r\n              {{ message }}\r\n            </b-alert>\r\n            <button\r\n              type=\"button\"\r\n              class=\"btn btn-success btn-sm\"\r\n              v-b-modal.venue-modal\r\n            >\r\n              Add Venue\r\n            </button>\r\n\r\n            <br /><br />\r\n            <table class=\"table table-hover\">\r\n              <thead>\r\n                <tr>\r\n                  <!--table header cells-->\r\n                  <th scope=\"col\">Venue Name</th>\r\n                  <th scope=\"col\">Venue Place</th>\r\n                  <th scope=\"col\">Venue City</th>\r\n                  <th scope=\"col\">Venue Capacity</th>\r\n                  <!-- <th scope=\"col\">Shows</th> -->\r\n                  <th scope=\"col\">Actions</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                <tr v-for=\"(venue, index) in venues\" :key=\"index\">\r\n                  <td>{{ venue.name }}</td>\r\n                  <td>{{ venue.place }}</td>\r\n                  <td>{{ venue.city }}</td>\r\n                  <td>{{ venue.capacity }}</td>\r\n                  <td>\r\n                    <div class=\"btn-group\" role=\"group\">\r\n                      <button\r\n                        type=\"button\"\r\n                        class=\"btn btn-info btn-sm\"\r\n                        v-b-modal.venue-update-modal\r\n                        @click=\"editVenue(venue)\"\r\n                      >\r\n                        Update\r\n                      </button>\r\n                      <button\r\n                        type=\"button\"\r\n                        class=\"btn btn-danger btn-sm\"\r\n                        @click=\"deleteVenue(venue)\"\r\n                      >\r\n                        Delete\r\n                      </button>\r\n                    </div>\r\n                  </td>\r\n                </tr>\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        </div>\r\n\r\n        <!--first modal-->\r\n        <b-modal\r\n          ref=\"addVenueModal\"\r\n          id=\"venue-modal\"\r\n          title=\"Add a new venue\"\r\n          hide-backdrop\r\n          hide-footer\r\n        >\r\n          <b-form @submit=\"onSubmitVenue\" @reset=\"onReset\" class=\"w-100\">\r\n            <b-form-group\r\n              id=\"form-name-group\"\r\n              label=\"Name:\"\r\n              label-for=\"form-name-input\"\r\n            >\r\n              <b-form-input\r\n                id=\"form-name-input\"\r\n                type=\"text\"\r\n                v-model=\"addVenueForm.name\"\r\n                placeholder=\"Enter venue\"\r\n              >\r\n              </b-form-input>\r\n            </b-form-group>\r\n\r\n            <b-form-group\r\n              id=\"form-place-group\"\r\n              label=\"Place:\"\r\n              label-for=\"form-place-input\"\r\n            >\r\n              <b-form-input\r\n                id=\"form-place-input\"\r\n                type=\"text\"\r\n                v-model=\"addVenueForm.place\"\r\n                placeholder=\"Enter place\"\r\n              >\r\n              </b-form-input>\r\n            </b-form-group>\r\n\r\n            <b-form-group\r\n              id=\"form-city-group\"\r\n              label=\"City:\"\r\n              label-for=\"form-city-input\"\r\n            >\r\n              <b-form-input\r\n                id=\"form-city-input\"\r\n                type=\"text\"\r\n                v-model=\"addVenueForm.city\"\r\n                placeholder=\"Enter city\"\r\n              >\r\n              </b-form-input>\r\n            </b-form-group>\r\n\r\n            <b-form-group\r\n              id=\"form-capacity-group\"\r\n              label=\"Capacity:\"\r\n              label-for=\"form-capacity-input\"\r\n            >\r\n              <b-form-input\r\n                id=\"form-capacity-input\"\r\n                type=\"number\"\r\n                v-model=\"addVenueForm.capacity\"\r\n                placeholder=\"Enter capacity\"\r\n              >\r\n              </b-form-input>\r\n            </b-form-group>\r\n\r\n            <!-- <b-form-group id=\"form-shows-group\" label=\"Shows:\" label-for=\"form-shows-input\">\r\n                <div v-for=\"(show, index) in availableShows\" :key=\"index\">\r\n                <b-form-checkbox\r\n                    v-model=\"addVenueForm.shows\"\r\n                    :value=\"show\"\r\n                    >{{ show }}</b-form-checkbox>\r\n                </div>\r\n            </b-form-group> -->\r\n\r\n            <b-button type=\"submit\" variant=\"outline-info\">Submit</b-button>\r\n            <b-button type=\"reset\" variant=\"outline-danger\">Reset</b-button>\r\n          </b-form>\r\n        </b-modal>\r\n\r\n        <!-- start of modal 2 -->\r\n\r\n        <b-modal\r\n          ref=\"editVenueModal\"\r\n          id=\"venue-update-modal\"\r\n          title=\"Update\"\r\n          hide-backdrop\r\n          hide-footer\r\n        >\r\n          <b-form @submit=\"onSubmitUpdate\" @reset=\"onResetUpdate\" class=\"w-100\">\r\n            <b-form-group\r\n              id=\"form-name-edit-group\"\r\n              label=\"Name:\"\r\n              label-for=\"form-name-edit-input\"\r\n            >\r\n              <b-form-input\r\n                id=\"form-name-edit-input\"\r\n                type=\"text\"\r\n                v-model=\"editForm.name\"\r\n                required\r\n                placeholder=\"Enter venue\"\r\n              >\r\n              </b-form-input>\r\n            </b-form-group>\r\n\r\n            <b-form-group\r\n              id=\"form-place-edit-group\"\r\n              label=\"Place:\"\r\n              label-for=\"form-place-edit-input\"\r\n            >\r\n              <b-form-input\r\n                id=\"form-place-edit-input\"\r\n                type=\"text\"\r\n                v-model=\"editForm.place\"\r\n                required\r\n                placeholder=\"Enter place\"\r\n              >\r\n              </b-form-input>\r\n            </b-form-group>\r\n\r\n            <b-form-group\r\n              id=\"form-city-edit-group\"\r\n              label=\"City:\"\r\n              label-for=\"form-city-edit-input\"\r\n            >\r\n              <b-form-input\r\n                id=\"form-city-edit-input\"\r\n                type=\"text\"\r\n                v-model=\"editForm.city\"\r\n                required\r\n                placeholder=\"Enter city\"\r\n              >\r\n              </b-form-input>\r\n            </b-form-group>\r\n\r\n            <b-form-group\r\n              id=\"form-capacity-edit-group\"\r\n              label=\"Capacity:\"\r\n              label-for=\"form-capacity-edit-input\"\r\n            >\r\n              <b-form-input\r\n                id=\"form-capacity-edit-input\"\r\n                type=\"number\"\r\n                v-model=\"editForm.capacity\"\r\n                required\r\n                placeholder=\"Enter capacity\"\r\n              >\r\n              </b-form-input>\r\n            </b-form-group>\r\n\r\n            <!-- <b-form-group id=\"form-shows-edit-group\" label=\"Shows:\" label-for=\"form-shows-edit-input\">\r\n                <div v-for=\"(show, index) in availableShows\" :key=\"index\">\r\n                <b-form-checkbox\r\n                    v-model=\"editForm.shows\"\r\n                    :value=\"show\"\r\n                    >{{ show }}</b-form-checkbox>\r\n                </div>\r\n            </b-form-group> -->\r\n\r\n            <b-button type=\"submit\" variant=\"outline-info\">Submit</b-button>\r\n            <b-button type=\"cancel\" variant=\"outline-danger\">cancel</b-button>\r\n          </b-form>\r\n        </b-modal>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Show Details Section -->\r\n    <div class=\"jumbotron vertical-cent\">\r\n      <!-- ... Your Show Details Template ... -->\r\n      <div class=\"container\">\r\n        <link\r\n          rel=\"stylesheet\"\r\n          href=\"https://cdn.jsdelivr.net/npm/bootswatch@4.5.2/dist/cosmo/bootstrap.min.css\"\r\n          integrity=\"sha384-5QFXyVb+lrCzdN228VS3HmzpiE7ZVwLQtkt+0d9W43LQMzz4HBnnqvVxKg6O+04d\"\r\n          crossorigin=\"anonymous\"\r\n        />\r\n        <div class=\"row\">\r\n          <div class=\"col-sm-12\">\r\n            <h1>Show Details</h1>\r\n            <hr />\r\n            <br />\r\n            <!--alert messg-->\r\n            <!-- <b-alert variant=\"success\" v-if=\"showMessage\" show> {{ message }} </b-alert> -->\r\n            <button\r\n              type=\"button\"\r\n              class=\"btn btn-success btn-sm\"\r\n              v-b-modal.show-modal\r\n            >\r\n              Add Show\r\n            </button>\r\n            <br /><br />\r\n            <table class=\"table table-hover\">\r\n              <thead>\r\n                <tr>\r\n                  <!--table header cells-->\r\n                  <th scope=\"col\">Name</th>\r\n                  <th scope=\"col\">Genre</th>\r\n                  <th scope=\"col\">Rating</th>\r\n                  <th scope=\"col\">Price</th>\r\n                  <th scope=\"col\">Date</th>\r\n                  <th scope=\"col\">Time</th>\r\n                  <th scope=\"col\">Available Seats</th>\r\n                  <th scope=\"col\">Venue</th>\r\n                  <th scope=\"col\">Actions</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                <tr v-for=\"(show, index) in shows\" :key=\"index\">\r\n                  <td>{{ show.show_name }}</td>\r\n                  <td>{{ show.genre }}</td>\r\n                  <td>{{ show.rating }}</td>\r\n                  <td>{{ show.price }}</td>\r\n                  <td>{{ show.date }}</td>\r\n                  <td>{{ show.time }}</td>\r\n                  <td>{{ show.available_seats }}</td>\r\n                  <td>\r\n                    {{ show.venue.name }} <br />\r\n                    {{ show.venue.place }}\r\n                  </td>\r\n\r\n                  <td>\r\n                    <div class=\"btn-group\" role=\"group\">\r\n                      <button\r\n                        type=\"button\"\r\n                        class=\"btn btn-info btn-sm\"\r\n                        v-b-modal.show-update-modal\r\n                        @click=\"editShow(show)\"\r\n                      >\r\n                        Update\r\n                      </button>\r\n                      <button\r\n                        type=\"button\"\r\n                        class=\"btn btn-danger btn-sm\"\r\n                        @click=\"deleteShow(show)\"\r\n                      >\r\n                        Delete\r\n                      </button>\r\n                    </div>\r\n                  </td>\r\n                </tr>\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        </div>\r\n\r\n        <!--first modal-->\r\n        <b-modal\r\n          ref=\"addShowModal\"\r\n          id=\"show-modal\"\r\n          title=\"Add a new show\"\r\n          hide-backdrop\r\n          hide-footer\r\n        >\r\n          <b-form @submit=\"onSubmitShow\" @reset=\"onReset\" class=\"w-100\">\r\n            <b-form-group\r\n              id=\"form-name-group\"\r\n              label=\"Name:\"\r\n              label-for=\"form-name-input\"\r\n            >\r\n              <b-form-input\r\n                id=\"form-name-input\"\r\n                type=\"text\"\r\n                v-model=\"addShowForm.name\"\r\n                placeholder=\"Enter show\"\r\n              >\r\n              </b-form-input>\r\n            </b-form-group>\r\n\r\n            <b-form-group\r\n              id=\"form-genre-group\"\r\n              label=\"Genre:\"\r\n              label-for=\"form-genre-input\"\r\n            >\r\n              <b-form-input\r\n                id=\"form-genre-input\"\r\n                type=\"text\"\r\n                v-model=\"addShowForm.genre\"\r\n                placeholder=\"Enter genre\"\r\n              >\r\n              </b-form-input>\r\n            </b-form-group>\r\n\r\n            <b-form-group\r\n              id=\"form-rating-group\"\r\n              label=\"Rating:\"\r\n              label-for=\"form-rating-input\"\r\n            >\r\n              <b-form-input\r\n                id=\"form-rating-input\"\r\n                type=\"number\"\r\n                v-model=\"addShowForm.rating\"\r\n                placeholder=\"Enter rating\"\r\n              >\r\n              </b-form-input>\r\n            </b-form-group>\r\n\r\n            <b-form-group\r\n              id=\"form-price-group\"\r\n              label=\"Price:\"\r\n              label-for=\"form-price-input\"\r\n            >\r\n              <b-form-input\r\n                id=\"form-price-input\"\r\n                type=\"number\"\r\n                v-model=\"addShowForm.price\"\r\n                placeholder=\"Enter price\"\r\n              >\r\n              </b-form-input>\r\n            </b-form-group>\r\n            <b-form-group\r\n              id=\"form-date-group\"\r\n              label=\"Date:\"\r\n              label-for=\"form-date-input\"\r\n            >\r\n              <b-form-input\r\n                id=\"form-date-input\"\r\n                type=\"date\"\r\n                v-model=\"addShowForm.date\"\r\n                required\r\n              >\r\n              </b-form-input>\r\n            </b-form-group>\r\n\r\n            <b-form-group\r\n              id=\"form-time-group\"\r\n              label=\"Time:\"\r\n              label-for=\"form-time-input\"\r\n            >\r\n              <b-form-input\r\n                id=\"form-time-input\"\r\n                type=\"time\"\r\n                v-model=\"addShowForm.time\"\r\n                required\r\n              >\r\n              </b-form-input>\r\n            </b-form-group>\r\n\r\n            <b-form-group\r\n              id=\"form-available-seats-group\"\r\n              label=\"Available Seats:\"\r\n              label-for=\"form-available-seats-input\"\r\n            >\r\n              <b-form-input\r\n                id=\"form-available-seats-input\"\r\n                type=\"number\"\r\n                v-model=\"addShowForm.available_seats\"\r\n                placeholder=\"Enter available seats\"\r\n              >\r\n              </b-form-input>\r\n            </b-form-group>\r\n\r\n            <b-form-group\r\n              id=\"form-venue-group\"\r\n              label=\"Venue:\"\r\n              label-for=\"form-venue-input\"\r\n            >\r\n              <b-form-select\r\n                id=\"form-venue-input\"\r\n                v-model=\"addShowForm.venue\"\r\n                required\r\n                placeholder=\"Select venue\"\r\n              >\r\n                <option\r\n                  v-for=\"venue in venues\"\r\n                  :key=\"venue.id\"\r\n                  :value=\"venue.id\"\r\n                >\r\n                  {{ venue.name }} {{ venue.place }} {{ venue.city }}\r\n                </option>\r\n              </b-form-select>\r\n            </b-form-group>\r\n\r\n            <b-button type=\"submit\" variant=\"outline-info\">Submit</b-button>\r\n            <b-button type=\"reset\" variant=\"outline-danger\">Reset</b-button>\r\n          </b-form>\r\n        </b-modal>\r\n\r\n        <!-- start of modal 2 -->\r\n\r\n        <b-modal\r\n          ref=\"editShowModal\"\r\n          id=\"show-update-modal\"\r\n          title=\"Update\"\r\n          hide-backdrop\r\n          hide-footer\r\n        >\r\n          <b-form @submit=\"onSubmitUpdate\" @reset=\"onResetUpdate\" class=\"w-100\">\r\n            <b-form-group\r\n              id=\"form-name-edit-group\"\r\n              label=\"Name:\"\r\n              label-for=\"form-name-edit-input\"\r\n            >\r\n              <b-form-input\r\n                id=\"form-name-edit-input\"\r\n                type=\"text\"\r\n                v-model=\"editShowForm.name\"\r\n                required\r\n                placeholder=\"Enter show\"\r\n              >\r\n              </b-form-input>\r\n            </b-form-group>\r\n\r\n            <b-form-group\r\n              id=\"form-genre-edit-group\"\r\n              label=\"Genre:\"\r\n              label-for=\"form-genre-edit-input\"\r\n            >\r\n              <b-form-input\r\n                id=\"form-genre-edit-input\"\r\n                type=\"text\"\r\n                v-model=\"editShowForm.genre\"\r\n                required\r\n                placeholder=\"Enter genre\"\r\n              >\r\n              </b-form-input>\r\n            </b-form-group>\r\n\r\n            <b-form-group\r\n              id=\"form-rating-edit-group\"\r\n              label=\"Rating:\"\r\n              label-for=\"form-rating-edit-input\"\r\n            >\r\n              <b-form-input\r\n                id=\"form-rating-edit-input\"\r\n                type=\"number\"\r\n                v-model=\"editShowForm.rating\"\r\n                required\r\n                placeholder=\"Enter rating\"\r\n              >\r\n              </b-form-input>\r\n            </b-form-group>\r\n\r\n            <b-form-group\r\n              id=\"form-price-edit-group\"\r\n              label=\"Price:\"\r\n              label-for=\"form-price-edit-input\"\r\n            >\r\n              <b-form-input\r\n                id=\"form-price-edit-input\"\r\n                type=\"number\"\r\n                v-model=\"editShowForm.price\"\r\n                required\r\n                placeholder=\"Enter price\"\r\n              >\r\n              </b-form-input>\r\n\r\n              <b-form-group\r\n                id=\"form-available-seats-edit-group\"\r\n                label=\"Available Seats:\"\r\n                label-for=\"form-available-seats-edit-input\"\r\n              >\r\n                <b-form-input\r\n                  id=\"form-available-seats-edit-input\"\r\n                  type=\"number\"\r\n                  v-model=\"editShowForm.available_seats\"\r\n                  required\r\n                  placeholder=\"Enter available seats\"\r\n                >\r\n                </b-form-input>\r\n              </b-form-group>\r\n            </b-form-group>\r\n            <b-form-group\r\n              id=\"form-date-edit-group\"\r\n              label=\"Date:\"\r\n              label-for=\"form-date-edit-input\"\r\n            >\r\n              <b-form-input\r\n                id=\"form-date-edit-input\"\r\n                type=\"date\"\r\n                v-model=\"editShowForm.date\"\r\n                required\r\n                placeholder=\"Enter date\"\r\n              >\r\n              </b-form-input>\r\n            </b-form-group>\r\n\r\n            <b-form-group\r\n              id=\"form-time-edit-group\"\r\n              label=\"Time:\"\r\n              label-for=\"form-time-edit-input\"\r\n            >\r\n              <b-form-input\r\n                id=\"form-time-edit-input\"\r\n                type=\"time\"\r\n                v-model=\"editShowForm.time\"\r\n                required\r\n                placeholder=\"Enter time\"\r\n              >\r\n              </b-form-input>\r\n            </b-form-group>\r\n\r\n            <b-form-group\r\n              id=\"form-venue-edit-group\"\r\n              label=\"Venue:\"\r\n              label-for=\"form-venue-edit-input\"\r\n            >\r\n              <b-form-select\r\n                id=\"form-venue-edit-input\"\r\n                v-model=\"editShowForm.venue\"\r\n                required\r\n                placeholder=\"Select venue\"\r\n              >\r\n                <option\r\n                  v-for=\"venue in venues\"\r\n                  :key=\"venue.id\"\r\n                  :value=\"venue.id\"\r\n                >\r\n                  {{ venue.name }} <br />{{ venue.place }}<br />\r\n                  {{ venue.city }}\r\n                </option>\r\n              </b-form-select>\r\n            </b-form-group>\r\n\r\n            <b-button type=\"submit\" variant=\"outline-info\">Submit</b-button>\r\n            <b-button type=\"cancel\" variant=\"outline-danger\">cancel</b-button>\r\n          </b-form>\r\n        </b-modal>\r\n      </div>\r\n    </div>\r\n    <br />\r\n    <br />\r\n    <button @click=\"logout\" class=\"btn btn-danger\">Logout</button>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      token: \"\",\r\n      venues: [],\r\n      shows: [],\r\n      addVenueForm: {\r\n        name: \"\",\r\n        place: \"\",\r\n        city: \"\",\r\n        capacity: \"\",\r\n        // shows: [],\r\n      },\r\n      editForm: {\r\n        name: \"\",\r\n        place: \"\",\r\n        city: \"\",\r\n        capacity: \"\",\r\n        // shows: [],\r\n      },\r\n\r\n      availableShows: [],\r\n\r\n      addShowForm: {\r\n        show_name: \"\",\r\n        genre: \"\",\r\n        rating: \"\",\r\n        price: \"\",\r\n        date: \"\",\r\n        time: \"\",\r\n        available_seats: \"\",\r\n        venue: \"\",\r\n      },\r\n      editShowForm: {\r\n        show_name: \"\",\r\n        genre: \"\",\r\n        rating: \"\",\r\n        price: \"\",\r\n        date: \"\",\r\n        time: \"\",\r\n        available_seats: \"\",\r\n        venue: \"\",\r\n      },\r\n      message: \"\",\r\n      showMessage: false,\r\n    };\r\n  },\r\n  computed: {\r\n    axiosConfig() {\r\n      let token = localStorage.getItem(\"access_token\");\r\n      return {\r\n        headers: {\r\n          Authorization: `Bearer ${token}`,\r\n        },\r\n      };\r\n    },\r\n  },\r\n\r\n  methods: {\r\n    // Venue Methods\r\n    getVenues() {\r\n      const path = \"http://127.0.0.1:5000/admindashboard/venues\";\r\n      axios\r\n        .get(path, this.axiosConfig)\r\n        .then((res) => {\r\n          this.venues = res.data.venues;\r\n        })\r\n        .catch((err) => {\r\n          console.error(err);\r\n        });\r\n    },\r\n    addVenue(payload) {\r\n      const path = \"http://127.0.0.1:5000/admindashboard/venues\";\r\n      axios\r\n        .post(path, payload, this.axiosConfig)\r\n        .then(() => {\r\n          this.getVenues();\r\n          this.showMessage = true;\r\n          this.message = \"Venue added!\";\r\n        })\r\n        .catch((err) => {\r\n          console.error(err);\r\n          this.getVenues();\r\n        });\r\n    },\r\n    updateVenue(payload, venueID) {\r\n      const path = `http://127.0.0.1:5000/admindashboard/venues/${venueID}`;\r\n      axios\r\n        .put(path, payload, this.axiosConfig)\r\n        .then(() => {\r\n          this.getVenues();\r\n          this.showMessage = true;\r\n          this.message = \"Venue updated!\";\r\n        })\r\n        .catch((err) => {\r\n          console.error(err);\r\n          this.getVenues();\r\n        });\r\n    },\r\n    removeVenue(venueID) {\r\n      const confirmed = window.confirm(\r\n        \"Are you sure you want to delete this venue?\"\r\n      );\r\n\r\n      if (!confirmed) {\r\n        // If the user cancels the deletion, do nothing\r\n        return;\r\n      }\r\n      const path = `http://127.0.0.1:5000/admindashboard/venues/${venueID}`;\r\n      axios\r\n        .delete(path)\r\n        .then(() => {\r\n          this.getVenues();\r\n          this.showMessage = true;\r\n          this.message = \"Venue deleted!\";\r\n        })\r\n        .catch((err) => {\r\n          console.error(err);\r\n          this.getVenues();\r\n        });\r\n    },\r\n    deleteVenue(venue) {\r\n      this.removeVenue(venue.id);\r\n    },\r\n    editVenue(venue) {\r\n      this.editForm = { ...venue };\r\n    },\r\n\r\n    // Show Methods\r\n    getShows() {\r\n      const path = \"http://127.0.0.1:5000/admindashboard/shows\";\r\n      axios\r\n        .get(path, this.axiosConfig)\r\n        .then((res) => {\r\n          this.shows = res.data.shows;\r\n        })\r\n        .catch((err) => {\r\n          console.error(err);\r\n        });\r\n    },\r\n    addShow(payload) {\r\n      const path = \"http://127.0.0.1:5000/admindashboard/shows\";\r\n      axios\r\n        .post(path, payload, this.axiosConfig)\r\n        .then(() => {\r\n          this.getShows();\r\n          this.showMessage = true;\r\n          this.message = \"Show added!\";\r\n        })\r\n        .catch((err) => {\r\n          console.error(err);\r\n          this.getShows();\r\n        });\r\n    },\r\n    updateShow(payload, showID) {\r\n      const path = `http://127.0.0.1:5000/admindashboard/shows/${showID}`;\r\n      axios\r\n        .put(path, payload, this.axiosConfig)\r\n        .then(() => {\r\n          this.getShows();\r\n          this.showMessage = true;\r\n          this.message = \"Show updated!\";\r\n        })\r\n        .catch((err) => {\r\n          console.error(err);\r\n          this.getShows();\r\n        });\r\n    },\r\n    removeShow(showID) {\r\n      const confirmed = window.confirm(\r\n        \"Are you sure you want to delete this show?\"\r\n      );\r\n\r\n      if (!confirmed) {\r\n        // If the user cancels the deletion, do nothing\r\n        return;\r\n      }\r\n      const path = `http://127.0.0.1:5000/admindashboard/shows/${showID}`;\r\n      axios\r\n        .delete(path)\r\n        .then(() => {\r\n          this.getShows();\r\n          this.showMessage = true;\r\n          this.message = \"Show deleted!\";\r\n        })\r\n        .catch((err) => {\r\n          console.error(err);\r\n          this.getShows();\r\n        });\r\n    },\r\n    deleteShow(show) {\r\n      this.removeShow(show.id);\r\n    },\r\n    editShow(show) {\r\n      this.editShowForm = { ...show };\r\n    },\r\n\r\n    // Other Methods\r\n    initForm() {\r\n      // Initialize your form fields here\r\n    },\r\n    onSubmitShow() {\r\n      const payload = {\r\n        show_name: this.addShowForm.name,\r\n        genre: this.addShowForm.genre,\r\n        rating: this.addShowForm.rating,\r\n        price: this.addShowForm.price,\r\n        date: this.addShowForm.date,\r\n        time: this.addShowForm.time,\r\n        available_seats: this.addShowForm.available_seats,\r\n        venue_id: this.addShowForm.venue,\r\n      };\r\n      this.addShow(payload);\r\n    },\r\n    onSubmitVenue() {\r\n      const payload = {\r\n        name: this.addVenueForm.name,\r\n        place: this.addVenueForm.place,\r\n        city: this.addVenueForm.city,\r\n        capacity: this.addVenueForm.capacity,\r\n        // shows: this.addVenueForm.shows,\r\n      };\r\n      this.addVenue(payload);\r\n    },\r\n  },\r\n  onReset(e) {\r\n    e.preventDefault();\r\n    this.$refs.addShowModal.hide();\r\n    this.$refs.addVenueModal.hide();\r\n    this.initForm();\r\n  },\r\n  onSubmitUpdate(e) {\r\n    e.preventDefault();\r\n    this.$refs.editVenueModal.hide();\r\n    this.$refs.editShowModal.hide();\r\n\r\n    const payload = {\r\n      name: this.editForm.name,\r\n      place: this.editForm.place,\r\n      city: this.editForm.city,\r\n      capacity: this.editForm.capacity,\r\n      // shows: this.editForm.shows,\r\n      show_name: this.editShowForm.name,\r\n      genre: this.editShowForm.genre,\r\n      rating: this.editShowForm.rating,\r\n      price: this.editShowForm.price,\r\n      date: this.editShowForm.date,\r\n      time: this.editShowForm.time,\r\n      available_seats: this.editShowForm.available_seats,\r\n      venue_id: this.editShowForm.venue,\r\n    };\r\n    this.updateShow(payload, this.editShowForm.id);\r\n    this.updateVenue(payload, this.editForm.id);\r\n  },\r\n  onResetUpdate(e) {\r\n    e.preventDefault();\r\n    this.$refs.editShowModal.hide();\r\n    this.$refs.editVenueModal.hide();\r\n    this.initForm();\r\n    this.getShows();\r\n    this.getVenues();\r\n  },\r\n  logout() {\r\n    // Perform any necessary logout actions, such as clearing session data, tokens, or local storage.\r\n    // For simplicity, we will redirect to the admin login page.\r\n    localStorage.removeItem(\"access_token\");\r\n    this.$router.push({ name: \"AdminLogin\" });\r\n  },\r\n};\r\ncreated();\r\nlet token = localStorage.getItem(\"access_token\");\r\nif (token == null) {\r\n  this.$router.push(\"/admin_login\");\r\n}\r\nthis.getShows();\r\nthis.getVenues();\r\n</script>\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}