{"ast":null,"code":"import axios from 'axios';\nexport default {\n  data() {\n    return {\n      venues: [],\n      addVenueForm: {\n        name: \"\",\n        place: \"\",\n        city: \"\",\n        capacity: \"\",\n        shows: []\n      },\n      editForm: {\n        name: \"\",\n        place: \"\",\n        city: \"\",\n        capacity: \"\",\n        shows: []\n      },\n      message: \"\",\n      showMessage: false,\n      availableShows: []\n    };\n  },\n  methods: {\n    getVenues() {\n      const path = 'http://localhost:5000/venuedetails';\n      axios.get(path).then(res => {\n        this.venues = res.data.venues;\n      }).catch(err => {\n        console.error(err);\n      });\n    },\n    // post venue functions\n    addVenue(payload) {\n      const path = 'http://localhost:5000/venuedetails';\n      axios.post(path, payload).then(() => {\n        this.getVenues();\n        this.message = \"venue added!\";\n        this.showMessage = true;\n      }).catch(err => {\n        console.error(err);\n        this.getVenues();\n      });\n    },\n    initForm() {\n      this.addVenueForm.name = \"\";\n      this.addVenueForm.place = \"\";\n      this.addVenueForm.city = \"\";\n      this.addVenueForm.capacity = \"\";\n      this.addVenueForm.shows = [];\n      this.editForm.name = '';\n      this.editForm.place = '';\n      this.editForm.city = '';\n      this.editForm.capacity = '';\n      this.editForm.shows = [];\n    },\n    // this is for first modal\n    onSubmit(e) {\n      e.preventDefault();\n      this.$refs.addVenueModal.hide();\n      const payload = {\n        name: this.addVenueForm.name,\n        place: this.addVenueForm.place,\n        city: this.addVenueForm.city,\n        capacity: this.addVenueForm.capacity,\n        shows: this.addVenueForm.shows\n      };\n      this.addVenue(payload);\n      this.initForm();\n    },\n    onReset(e) {\n      e.preventDefault(), this.$refs.addVenueModal.hide();\n      this.initForm();\n    },\n    // this is for the modal 2 to submit updated game\n    onSubmitUpdate(e) {\n      e.preventDefault(), this.$refs.editVenueModal.hide();\n      const payload = {\n        name: this.editForm.name,\n        place: this.editForm.place,\n        city: this.editForm.city,\n        capacity: this.editForm.capacity,\n        shows: this.editForm.shows\n      };\n      this.updateVenue(payload, this.editForm.id);\n    },\n    // handle cancel button click\n    onResetUpdate(e) {\n      e.preventDefault();\n      this.$refs.editVenueModal.hide();\n      this.initForm();\n      this.getVenues();\n    },\n    // update venue\n    updateVenue(payload, venueID) {\n      const path = `http://localhost:5000/venuedetails/${venueID}`;\n      axios.put(path, payload).then(() => {\n        this.getVenues();\n        this.message = \" Venue Updated!\";\n        this.showMessage = true;\n      }).catch(err => {\n        console.error(err);\n        this.getVenues();\n      });\n    },\n    //  delete individual venue\n    removeVenue(venueID) {\n      const path = `http://localhost:5000/venuedetails/${venueID}`;\n      axios.delete(path).then(() => {\n        this.getVenues();\n        this.message = \" Venue deleted!\";\n        this.showMessage = true;\n      }).catch(err => {\n        console.error(err);\n        this.getVenues();\n      });\n    },\n    // handle delete button\n\n    deleteVenue(venue) {\n      this.removeVenue(venue.id);\n    },\n    //  handle update button\n    editVenue(venue) {\n      this.editForm = venue;\n    }\n  },\n  created() {\n    this.getVenues();\n  }\n};","map":{"version":3,"names":["axios","data","venues","addVenueForm","name","place","city","capacity","shows","editForm","message","showMessage","availableShows","methods","getVenues","path","get","then","res","catch","err","console","error","addVenue","payload","post","initForm","onSubmit","e","preventDefault","$refs","addVenueModal","hide","onReset","onSubmitUpdate","editVenueModal","updateVenue","id","onResetUpdate","venueID","put","removeVenue","delete","deleteVenue","venue","editVenue","created"],"sources":["src/components/VenueDetails.vue"],"sourcesContent":["<template>\r\n    <div class=\"jumbotron vertical-cent\">\r\n    <div class=\"container\">\r\n        <link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/bootswatch@4.5.2/dist/darkly/bootstrap.min.css\" integrity=\"sha384-nNK9n28pDUDDgIiIqZ/MiyO3F4/9vsMtReZK39klb/MtkZI3/LtjSjlmyVPS3KdN\" crossorigin=\"anonymous\">\r\n        <div class=\"row\">\r\n            <div class=\"col-sm-12\">\r\n                <h1>Venue Details</h1>\r\n                <hr><br>\r\n                <!--alert messg-->\r\n                <b-alert variant=\"success\" v-if=\"showMessage\" show> {{ message }} </b-alert>\r\n                <button type=\"button\" class=\"btn btn-success btn-sm\" v-b-modal.venue-modal>Add Venue</button>\r\n                <br><br>\r\n                <table class=\"table table-hover\">\r\n                    <thead>\r\n                        <tr>\r\n                            <!--table header cells-->\r\n                            <th scope=\"col\">Venue Name</th>\r\n                            <th scope=\"col\">Venue Place</th>\r\n                            <th scope=\"col\">Venue City</th>\r\n                            <th scope=\"col\">Venue Capacity</th>\r\n                            <th scope=\"col\">Shows</th>\r\n                            <th scope=\"col\">Actions</th>  \r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        <tr v-for=\"venue, index in venues\" :key=\"index\">\r\n                            <td>{{ venue.name }}</td>\r\n                            <td>{{ venue.place }}</td>\r\n                            <td>{{ venue.city }}</td>\r\n                            <td>{{ venue.capacity }}</td>\r\n                            <td>\r\n\r\n                                <ul>\r\n                                    <li v-for=\"show in venue.shows\" :key=\"show\">{{ show }}</li>\r\n                                </ul>\r\n\r\n                            </td>\r\n                            <td>\r\n                                <div class=\"btn-group\" role=\"group\">\r\n                                    <button type=\"button\" class=\"btn btn-info btn-sm\" v-b-modal.venue-update-modal \r\n                                    @click=\"editVenue(venue)\">Update</button>\r\n                                    <button type=\"button\" class=\"btn btn-danger btn-sm\"\r\n                                    @click=\"deleteVenue(venue)\">Delete</button>\r\n                                </div>\r\n                            </td>\r\n\r\n                        </tr>\r\n                    </tbody>\r\n                </table>\r\n    \r\n            </div>\r\n        </div>\r\n\r\n        <!--first modal-->\r\n        <b-modal ref=\"addVenueModal\"\r\n                 id=\"venue-modal\"\r\n                 title=\"Add a new venue\" hide-backdrop hide-footer>\r\n        <b-form @submit=\"onSubmit\" @reset=\"onReset\" class=\"w-100\">\r\n            <b-form-group id=\"form-name-group\"\r\n                          label=\"Name:\"\r\n                          label-for=\"form-name-input\">\r\n                <b-form-input id=\"form-name-input\"\r\n                              type=\"text\"\r\n                              v-model=\"addVenueForm.name\"\r\n                              placeholder=\"Enter venue\">\r\n                </b-form-input>\r\n            </b-form-group>\r\n\r\n            <b-form-group id=\"form-place-group\"\r\n                          label=\"Place:\"\r\n                          label-for=\"form-place-input\">\r\n                <b-form-input id=\"form-place-input\"\r\n                              type=\"text\"\r\n                              v-model=\"addVenueForm.place\"\r\n                              placeholder=\"Enter place\">\r\n                </b-form-input>\r\n            </b-form-group>\r\n\r\n            <b-form-group id=\"form-city-group\"\r\n                          label=\"City:\"\r\n                          label-for=\"form-city-input\">\r\n                <b-form-input id=\"form-city-input\"\r\n                              type=\"text\"\r\n                              v-model=\"addVenueForm.city\"\r\n                              placeholder=\"Enter city\">\r\n                </b-form-input>\r\n            </b-form-group>\r\n\r\n            <b-form-group id=\"form-capacity-group\"\r\n                          label=\"Capacity:\"\r\n                          label-for=\"form-capacity-input\">\r\n                <b-form-input id=\"form-capacity-input\"\r\n                              type=\"number\"\r\n                              v-model=\"addVenueForm.capacity\"\r\n                              placeholder=\"Enter capacity\">\r\n                </b-form-input>\r\n\r\n            </b-form-group>\r\n            \r\n            <b-form-group id=\"form-shows-group\" label=\"Shows:\" label-for=\"form-shows-input\">\r\n                <div v-for=\"(show, index) in availableShows\" :key=\"index\">\r\n                <b-form-checkbox\r\n                    v-model=\"addVenueForm.shows\"\r\n                    :value=\"show\"\r\n                    >{{ show }}</b-form-checkbox>\r\n                </div>\r\n            </b-form-group>\r\n\r\n\r\n            <b-button type=\"submit\" variant=\"outline-info\">Submit</b-button>\r\n            <b-button type=\"reset\" variant=\"outline-danger\">Reset</b-button>\r\n\r\n        </b-form>\r\n        </b-modal>\r\n\r\n<!-- start of modal 2 -->\r\n\r\n<b-modal ref=\"editVenueModal\"\r\n                 id=\"venue-update-modal\"\r\n                 title=\"Update\" hide-backdrop hide-footer>\r\n        <b-form @submit=\"onSubmitUpdate\" @reset=\"onResetUpdate\" class=\"w-100\">\r\n\r\n            <b-form-group id=\"form-name-edit-group\"\r\n                          label=\"Name:\"\r\n                          label-for=\"form-name-edit-input\">\r\n                <b-form-input id=\"form-name-edit-input\"\r\n                              type=\"text\"\r\n                              v-model=\"editForm.name\"\r\n                              required\r\n                              placeholder=\"Enter venue\">\r\n                </b-form-input>\r\n            </b-form-group>\r\n\r\n            <b-form-group id=\"form-place-edit-group\"\r\n                          label=\"Place:\"\r\n                          label-for=\"form-place-edit-input\">\r\n                <b-form-input id=\"form-place-edit-input\"\r\n                              type=\"text\"\r\n                              v-model=\"editForm.place\"\r\n                              required\r\n                              placeholder=\"Enter place\">\r\n                </b-form-input>\r\n            </b-form-group>\r\n\r\n            <b-form-group id=\"form-city-edit-group\"\r\n                          label=\"City:\"\r\n                          label-for=\"form-city-edit-input\">\r\n                <b-form-input id=\"form-city-edit-input\"\r\n                              type=\"text\"\r\n                              v-model=\"editForm.city\"\r\n                              required\r\n                              placeholder=\"Enter city\">\r\n                </b-form-input>\r\n            </b-form-group>\r\n\r\n            <b-form-group id=\"form-capacity-edit-group\"\r\n                          label=\"Capacity:\"\r\n                          label-for=\"form-capacity-edit-input\">\r\n                <b-form-input id=\"form-capacity-edit-input\"\r\n                              type=\"number\"\r\n                              v-model=\"editForm.capacity\"\r\n                              required\r\n                              placeholder=\"Enter capacity\">\r\n                </b-form-input>\r\n\r\n            </b-form-group>\r\n            \r\n            <b-form-group id=\"form-shows-edit-group\" label=\"Shows:\" label-for=\"form-shows-edit-input\">\r\n                <div v-for=\"(show, index) in availableShows\" :key=\"index\">\r\n                <b-form-checkbox\r\n                    v-model=\"editForm.shows\"\r\n                    :value=\"show\"\r\n                    >{{ show }}</b-form-checkbox>\r\n                </div>\r\n            </b-form-group>\r\n\r\n\r\n            <b-button type=\"submit\" variant=\"outline-info\">Submit</b-button>\r\n            <b-button type=\"cancel\" variant=\"outline-danger\">cancel</b-button>\r\n\r\n        </b-form>\r\n        </b-modal>\r\n\r\n        \r\n    </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios'\r\nexport default {\r\n    data() {\r\n        return {\r\n            venues:[],\r\n            addVenueForm : {\r\n                name : \"\",\r\n                place : \"\",\r\n                city : \"\",\r\n                capacity : \"\",\r\n                shows: [],\r\n            },\r\n            editForm : {\r\n                \r\n                name : \"\",\r\n                place : \"\",\r\n                city : \"\",\r\n                capacity : \"\",\r\n                shows: [],\r\n\r\n            },\r\n            message : \"\",\r\n            showMessage: false,\r\n            availableShows: [],\r\n        };\r\n    },\r\n\r\n    \r\n\r\n    methods:{\r\n        getVenues() {\r\n            const path = 'http://localhost:5000/venuedetails';\r\n            axios.get(path)\r\n            .then((res) => {\r\n                this.venues = res.data.venues\r\n            })\r\n            .catch ((err) => {\r\n                console.error(err)\r\n            });\r\n        },\r\n        // post venue functions\r\n        addVenue(payload) {\r\n            const path = 'http://localhost:5000/venuedetails';\r\n            axios.post(path,payload)\r\n            .then(() => {\r\n                this.getVenues();\r\n                this.message = \"venue added!\"\r\n                this.showMessage = true;\r\n            })\r\n            .catch ((err) => {\r\n                console.error(err);\r\n                this.getVenues();\r\n            });\r\n        },\r\n        initForm() {\r\n            this.addVenueForm.name = \"\";\r\n            this.addVenueForm.place = \"\";\r\n            this.addVenueForm.city = \"\";\r\n            this.addVenueForm.capacity = \"\";\r\n            this.addVenueForm.shows = [];\r\n            \r\n            this.editForm.name = '';\r\n            this.editForm.place = '';\r\n            this.editForm.city = '';\r\n            this.editForm.capacity = '';\r\n            this.editForm.shows = [];\r\n            \r\n\r\n        },\r\n        // this is for first modal\r\n        onSubmit(e) {\r\n            e.preventDefault();\r\n            this.$refs.addVenueModal.hide();\r\n            const payload = {\r\n                name : this.addVenueForm.name,\r\n                place : this.addVenueForm.place,\r\n                city : this.addVenueForm.city,\r\n                capacity : this.addVenueForm.capacity,\r\n                shows : this.addVenueForm.shows,\r\n\r\n            };\r\n\r\n            this.addVenue(payload);\r\n            this.initForm();\r\n        },\r\n        onReset(e) {\r\n            e.preventDefault(),\r\n            this.$refs.addVenueModal.hide();\r\n            this.initForm();\r\n\r\n        },\r\n\r\n        // this is for the modal 2 to submit updated game\r\n        onSubmitUpdate(e) {\r\n            e.preventDefault(),\r\n            this.$refs.editVenueModal.hide();\r\n            const payload = {\r\n                name : this.editForm.name,\r\n                place : this.editForm.place,\r\n                city : this.editForm.city,\r\n                capacity : this.editForm.capacity,\r\n                shows : this.editForm.shows,\r\n            };\r\n            this.updateVenue(payload, this.editForm.id);\r\n            \r\n\r\n        },\r\n        // handle cancel button click\r\n        onResetUpdate(e) {\r\n            e.preventDefault();\r\n            this.$refs.editVenueModal.hide();\r\n            this.initForm();\r\n            this.getVenues();\r\n        },\r\n           \r\n     // update venue\r\n        updateVenue(payload,venueID) {\r\n\r\n            const path = `http://localhost:5000/venuedetails/${venueID}`\r\n            axios.put(path, payload)\r\n            .then(() => {\r\n                this.getVenues();\r\n                this.message = \" Venue Updated!\"\r\n                this.showMessage = true;\r\n\r\n            })\r\n            .catch ((err) => {\r\n                console.error(err);\r\n                this.getVenues();\r\n            });\r\n     },\r\n    //  delete individual venue\r\n        removeVenue(venueID) {\r\n            const path = `http://localhost:5000/venuedetails/${venueID}`\r\n            axios.delete(path)\r\n            .then(() => {\r\n                this.getVenues();\r\n                this.message = \" Venue deleted!\"\r\n                this.showMessage = true;\r\n\r\n            })\r\n            .catch ((err) => {\r\n                console.error(err);\r\n                this.getVenues();\r\n            });\r\n    },\r\n\r\n    // handle delete button\r\n\r\n        deleteVenue(venue) {\r\n            this.removeVenue(venue.id);\r\n    },\r\n    //  handle update button\r\n    editVenue(venue) {\r\n        this.editForm = venue\r\n    }\r\n\r\n\r\n    },\r\n    created() {\r\n        this.getVenues();\r\n    }\r\n    \r\n}\r\n</script>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}